Improve sync performance with no-op when possible.
To disable the no-op optimization use the ``optimize=False`` option on the ``sync`` call.
